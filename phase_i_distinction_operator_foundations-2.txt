\documentclass[11pt]{article}
\usepackage{amsmath,amssymb,amsthm,stmaryrd,mathrsfs,tikz,tikz-cd,hyperref}
\usepackage[margin=1in]{geometry}
\usepackage{enumitem}
\setlength{\parindent}{1em}

\title{\textbf{Foundations of the Distinction Operator: \newline Formal Results and Universal Construction}}
\author{Anonymous Research Network}
\date{\today}

\begin{document}
\maketitle

\begin{abstract}
This document establishes a rigorous foundation for the ``Distinction Operator'' $D$ acting on a univalent universe of types. We give precise definitions, prove its functoriality and preservation of equivalences, characterize its fixed points (0-types), demonstrate nontriviality on higher homotopy types (e.g., $S^1$), and construct the final coalgebra (the \emph{Eternal Lattice}) under standard continuity assumptions. All results stated herein are provable within homotopy type theory (HoTT) or an $(\infty,1)$-topos satisfying mild size and continuity conditions.
\end{abstract}

\tableofcontents
\vspace{1em}
\hrule

%============================================================
\section{Definition of the Distinction Operator}

Let $\mathcal{U}$ be a univalent universe of types.

\begin{definition}[Distinction Operator]
For any $X : \mathcal{U}$, define
\[
D(X) := \Sigma_{(x,y:X)} \mathsf{Path}_X(x,y).
\]
Elements are triples $(x,y,p)$ where $p:x =_X y$.
\end{definition}

\begin{definition}[Action on Morphisms]
For any $f:X\to Y$, define
\[
D(f)(x,y,p) := (f(x), f(y), \mathsf{ap}_f(p)),
\]
where $\mathsf{ap}_f$ is the usual path application.
\end{definition}

\begin{proposition}[Functoriality]
The assignment $X\mapsto D(X)$, $f\mapsto D(f)$ defines an endofunctor
\[
D: \mathcal{U}\to\mathcal{U}.
\]
\end{proposition}
\begin{proof}
Immediate from $\mathsf{ap}_{\mathrm{id}} = \mathrm{id}$ and $\mathsf{ap}_{g\circ f} = \mathsf{ap}_g\circ\mathsf{ap}_f$.
\end{proof}

\begin{proposition}[Preservation of Equivalences]
If $f:X\to Y$ is an equivalence, then $D(f):D(X)\to D(Y)$ is an equivalence.
\end{proposition}
\begin{proof}
Let $g:Y\to X$ be a quasi-inverse of $f$. Naturality of $\mathsf{ap}$ provides a quasi-inverse $D(g)$ for $D(f)$.\end{proof}

%============================================================
\section{Fixed Points and Trivial Cases}

\begin{definition}[Contractible Type]
A type $X$ is contractible if there exists $c:X$ and $p_x:c=_X x$ for all $x:X$.
\end{definition}

\begin{lemma}
If $X$ is contractible, then $D(X)$ is contractible.
\end{lemma}
\begin{proof}
All points of $D(X)$ contract to $(c,c,\mathsf{refl}_c)$ as identity paths in a contractible type are trivial.
\end{proof}

\begin{definition}[Set / 0-Type]
A type $X$ is a \emph{set} (or 0-type) if for all $x,y:X$ and $p,q:x=_X y$, we have $p=q$.
\end{definition}

\begin{lemma}
If $X$ is a set, then $D(X)\simeq X$.
\end{lemma}
\begin{proof}
We have $D(X)=\Sigma_{(x,y:X)}(x=y)$. Since each identity type is a proposition, non-empty fibers occur only when $x=y$. Thus $D(X)\simeq\Sigma_{x:X}(x=x)$. Each $(x=x)$ is contractible, so the dependent sum reduces to $X$.
\end{proof}

\begin{corollary}
Every 0-type is a fixed point of $D$.
\end{corollary}

%============================================================
\section{Nontrivial Action on Higher Types}

We examine the effect of $D$ on nontrivial homotopy types.

\begin{example}[Circle $S^1$]
Let $S^1$ denote the higher inductive type with $\pi_1(S^1)\simeq\mathbb{Z}$. Consider the projection
\[
\pi : D(S^1) \to S^1\times S^1, \qquad (x,y,p)\mapsto(x,y).
\]
Fibers are path spaces $\mathsf{Path}_{S^1}(x,y)$, each equivalent to $\mathbb{Z}$.
\end{example}

\begin{proposition}
$D(S^1)$ is not equivalent to $S^1$.
\end{proposition}
\begin{proof}
$D(S^1)$ fibers over $S^1\times S^1$ with discrete fiber $\mathbb{Z}$. The base has $\pi_1\cong \mathbb{Z}\times\mathbb{Z}$, hence $\pi_1(D(S^1))$ has rank at least two, while $\pi_1(S^1)\cong\mathbb{Z}$. Thus no equivalence exists.
\end{proof}

\begin{corollary}
For higher types with nontrivial $\pi_1$, $D$ strictly increases homotopy complexity.
\end{corollary}

%============================================================
\section{The Canonical Tower and Coalgebras}

\begin{definition}[Canonical Embedding]
For each $X$, define $\iota_X:X\to D(X)$ by $\iota_X(x)=(x,x,\mathsf{refl}_x)$.
\end{definition}

\begin{lemma}
$(X,\iota_X)$ is a $D$-coalgebra.
\end{lemma}

\begin{definition}[Distinction Tower]
The canonical tower associated with $X$ is
\[
X \xrightarrow{\iota_X} D(X) \xrightarrow{D(\iota_X)} D^2(X) \xrightarrow{D^2(\iota_X)} \cdots.
\]
\end{definition}

\begin{lemma}
If $X$ is a 0-type, all maps in the tower are equivalences, hence $D^n(X)\simeq X$ for all $n$.
\end{lemma}
\begin{proof}
Immediate from $D$ preserving equivalences and $D(X)\simeq X$ for 0-types.
\end{proof}

%============================================================
\section{Existence of the Final Coalgebra}

\begin{hypothesis}[Continuity Hypotheses]
Assume $\mathcal{U}$ has countable limits and that $D$ preserves limits of $\omega$-chains (i.e. $D$ is $\omega$-continuous).
\end{hypothesis}

\begin{definition}[Coalgebra Category]
Let $\mathsf{Coalg}_D$ have objects $(X,\xi)$ with $\xi:X\to D(X)$ and morphisms $f:(X,\xi)\to(Y,\eta)$ satisfying $D(f)\circ\xi=\eta\circ f$.
\end{definition}

\begin{theorem}[Final Coalgebra: The Eternal Lattice]
Under the above hypotheses, $\mathsf{Coalg}_D$ admits a final coalgebra $(E,\epsilon)$, constructible as the limit
\[
E = \lim_{n\to\infty} D^n(1).
\]
The structure map $\epsilon:E\to D(E)$ is induced by the universal property of the limit.
\end{theorem}

\begin{proof}
By the Ad\'amek theorem (1974) generalized to $(\infty,1)$-categories: for $\omega$-continuous $D$, the limit of the terminal sequence yields the final coalgebra. Preservation of chain limits by $D$ ensures existence and uniqueness up to equivalence.
\end{proof}

\begin{definition}[Eternal Lattice]
The final coalgebra $(E,\epsilon)$ is called the \emph{Eternal Lattice}. It satisfies $D(E)\simeq E$ and is universal among all self-distinguishing structures $(X,\xi)$.
\end{definition}

%============================================================
\section{Summary of Proven Results}
\begin{enumerate}[label=(\arabic*),nosep]
\item $D$ is a functor preserving equivalences.
\item For all 0-types $X$, $D(X)\simeq X$.
\item For contractible $X$, $D(X)$ is contractible.
\item For $S^1$, $D(S^1)\not\simeq S^1$ (nontrivial growth in $\pi_1$).
\item For all 0-types, the distinction tower stabilizes immediately.
\item Under $\omega$-continuity, the final coalgebra $(E,\epsilon)$ exists and is unique up to equivalence.
\end{enumerate}

These form a closed, provable corpus describing the mathematics of self-distinction within univalent type theory.

%============================================================
\section{Further Directions}

Several open and tractable questions naturally follow from the present framework:
\begin{enumerate}[label=(\alph*),nosep]
\item \textbf{Characterization of Fixed Points.} --- Are all fixed points of $D$ necessarily 0-types? Or can higher fixed points exist within a restricted homotopy dimension?
\item \textbf{Homotopy Invariants of Iteration.} --- Compute $\pi_k(D(X))$ for fundamental examples such as $S^1$, $S^2$, and tori. Identify how $D$ modifies loop space structure.
\item \textbf{Stability and Periodicity.} --- Determine whether the tower $X\to D(X)\to D^2(X)\to\cdots$ stabilizes, becomes periodic, or defines a spectral sequence in homotopy.
\item \textbf{Internal Logic.} --- Explore the interpretation of $D$ within modal or higher-order internal logics, where it acts as a reflection modality capturing observational closure.
\item \textbf{Categorical Generalization.} --- Extend $D$ to act on $(\infty,1)$-categories, not just on objects, defining a higher distinction monad or comonad structure.
\item \textbf{Computational Semantics.} --- Relate $D$ to type-theoretic constructs of identity reflection, parametricity, or differential cohesion, formalizing its role as a self-observation operator.
\end{enumerate}

The investigation of these questions will clarify the categorical and homotopical foundations of self-reference, identity, and observation across mathematical universes.

%============================================================
\section*{References}
Ad\'amek, J. (1974). ``Free Algebras and Automata Realizations in the Language of Categories.'' \emph{Commentationes Mathematicae Universitatis Carolinae}, 15(4), 589--602.\\
The Univalent Foundations Program. (2013). \emph{Homotopy Type Theory: Univalent Foundations of Mathematics}. Institute for Advanced Study.\\
Riehl, E. (2017). \emph{Category Theory in Context}. Dover Publications.

\end{document}
